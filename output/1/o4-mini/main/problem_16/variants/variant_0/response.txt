+++++
Sets:
T = {1, 2, 3}  // Index set for months

Variables:
x_t ≥ 0  (continuous)  // Units purchased in month t, for t ∈ T
y_t ≥ 0  (continuous)  // Units sold in month t, for t ∈ T
s_t ≥ 0  (continuous)  // Inventory at the end of month t, for t ∈ T

Parameters:
b_t       // Purchase price in month t (b_1=8, b_2=6, b_3=9)
p_t       // Selling price in month t  (p_1=9, p_2=8, p_3=10)
s0 = 200  // Initial inventory at end of month 0
S_max = 500 // Warehouse capacity

Constraints:
1) Inventory balance for each t ∈ T:
   s_t = (s_{t-1}) + x_t - y_t
   where s_{0} = s0

2) Capacity limit for each t ∈ T:
   s_t ≤ S_max

3) Non-negativity for all decision variables:
   x_t, y_t, s_t ≥ 0

Objective:
Maximize total profit = ∑_{t ∈ T} (p_t * y_t − b_t * x_t)
+++++
=====
import gurobipy as gp
from gurobipy import GRB

# Data
T = [1, 2, 3]
b = {1: 8, 2: 6, 3: 9}    # purchase prices
p = {1: 9, 2: 8, 3: 10}   # selling prices
s0 = 200                 # initial inventory
S_max = 500              # warehouse capacity

# Model
model = gp.Model("Purchasing_Sales_Plan")

# Decision variables
x = model.addVars(T, lb=0, name="purchase")   # x[t]: units purchased in month t
y = model.addVars(T, lb=0, name="sales")      # y[t]: units sold in month t
s = model.addVars(T, lb=0, name="inventory")  # s[t]: inventory at end of month t

# Inventory balance constraints
for t in T:
    if t == 1:
        model.addConstr(s[t] == s0 + x[t] - y[t], name=f"inv_balance_{t}")
    else:
        model.addConstr(s[t] == s[t-1] + x[t] - y[t], name=f"inv_balance_{t}")

# Capacity constraints
for t in T:
    model.addConstr(s[t] <= S_max, name=f"capacity_{t}")

# Objective: maximize profit
model.setObjective(gp.quicksum(p[t] * y[t] - b[t] * x[t] for t in T), GRB.MAXIMIZE)

# Optimize
model.optimize()

# Write optimal value to file
if model.status == GRB.OPTIMAL:
    with open('ref_optimal_value.txt', 'w') as f:
        f.write(str(model.objVal))
=====